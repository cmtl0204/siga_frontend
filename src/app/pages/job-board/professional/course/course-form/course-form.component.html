<!-- {{formCourseIn.value|json}} -->
<p-toast></p-toast>
<p-card>
  <div class="p-fluid">
    <form [formGroup]="formCourseIn" (ngSubmit)="onSubmit()">
      <div class="p-formgrid p-grid">
        <div class="p-field p-xl-6 p-lg-6 p-md-6 p-sm-12">
          <label for="area">
            <i class="p-error">*</i> Area:
            <i *ngIf="areaField.valid" class="pi pi-check-circle icon-valid"></i>
            <i *ngIf="areaField.invalid && (areaField.touched || areaField.dirty)"
              class="pi pi-times-circle icon-invalid"></i>
          </label>
          <p-dropdown id="area" [options]="areas" formControlName="area" optionLabel="name" [filter]="true"
            filterBy="name" placeholder="Seleccione...">
            <ng-template pTemplate="selectedarea">
              <div class="country-area country-area-value" *ngIf="areaField.value">
                <div>{{area.name}}</div>
              </div>
            </ng-template>
            <ng-template let-area pTemplate="area">
              <div class="country-area">
                <div>{{area.name}}</div>
              </div>
            </ng-template>
          </p-dropdown>
        </div>
        <div class="p-field p-xl-6 p-lg-6 p-md-6 p-sm-12">
          <label for="name">
            <i class="p-error">*</i>Nombre:
            <i *ngIf="nameField.valid" class="pi pi-check-circle icon-valid"></i>
            <i *ngIf="nameField.invalid && (nameField.touched || nameField.dirty)"
              class="pi pi-times-circle icon-invalid"></i>
          </label>
          <input id="name" formControlName="name" pInputText>
          <div *ngIf="nameField.errors && (nameField.touched ||nameField.dirty)">
            <small *ngIf="nameField.errors?.required" id="name-help-1" class="p-error">
              {{messageService.fieldRequired}}
            </small>
          </div>
        </div>
      </div>
      <div class="p-field">
        <label for="description">
          <i class="p-error">*</i> Descripción:
          <i *ngIf="descriptionField.valid" class="pi pi-check-circle icon-valid"></i>
          <i *ngIf="descriptionField.invalid && (descriptionField.touched || descriptionField.dirty)"
            class="pi pi-times-circle icon-invalid"></i>
        </label>
        <textarea pInputTextarea id="description" formControlName="description" rows="5"></textarea>
        <div *ngIf="descriptionField.errors && (descriptionField.touched || descriptionField.dirty)">
          <small *ngIf="descriptionField.errors?.required" id="description-help-1" class="p-error">
            {{messageService.fieldRequired}}
          </small>
          <small *ngIf="descriptionField.errors?.minlength" id="description-help-2" class="p-error">
            {{messageService.fieldMinLength(descriptionField)}}
          </small>
        </div>
      </div>
      <div class="p-formgrid p-grid">
        <div class="p-field p-xl-6 p-lg-6 p-md-6 p-sm-12">
          <label for="type">
            <i class="p-error">*</i> Tipo:
            <i *ngIf="typeField.valid" class="pi pi-check-circle icon-valid"></i>
            <i *ngIf="typeField.invalid && (typeField.touched || typeField.dirty)"
              class="pi pi-times-circle icon-invalid"></i>
          </label>
          <p-dropdown id="type" [options]="types" formControlName="type" optionLabel="name" [filter]="true"
            filterBy="name" placeholder="Seleccione...">
            <ng-template pTemplate="selectedtype">
              <div class="country-type country-type-value" *ngIf="typeField.value">
                <div>{{type.name}}</div>
              </div>
            </ng-template>
            <ng-template let-type pTemplate="type">
              <div class="country-type">
                <div>{{type.name}}</div>
              </div>
            </ng-template>
          </p-dropdown>
        </div>
        <div class="p-field p-xl-6 p-lg-6 p-md-6 p-sm-12">
          <label for="institution">
            <i class="p-error">*</i> Institución:
            <i *ngIf="institutionField.valid" class="pi pi-check-circle icon-valid"></i>
            <i *ngIf="institutionField.invalid && (institutionField.touched || institutionField.dirty)"
              class="pi pi-times-circle icon-invalid"></i>
          </label>
          <p-dropdown id="institution" [options]="institutions" formControlName="institution" optionLabel="name"
            [filter]="true" filterBy="name" placeholder="Seleccione...">
            <ng-template pTemplate="selectedinstitution">
              <div class="country-institution country-institution-value" *ngIf="institutionField.value">
                <div>{{institution.name}}</div>
              </div>
            </ng-template>
            <ng-template let-institution pTemplate="institution">
              <div class="country-institution">
                <div>{{institution.name}}</div>
              </div>
            </ng-template>
          </p-dropdown>
        </div>
      </div>
      <div class="p-formgrid p-grid">
        <div class="p-field p-xl-6 p-lg-6 p-md-6 p-sm-12">
          <label for="certificationTypes">
            <i class="p-error">*</i> Tipo de Certificación:
            <i *ngIf="certificationTypeField.valid" class="pi pi-check-circle icon-valid"></i>
            <i *ngIf="certificationTypeField.invalid && (certificationTypeField.touched || certificationTypeField.dirty)"
              class="pi pi-times-circle icon-invalid"></i>
          </label>
          <p-dropdown id="certification_type" [options]="certificationTypes" formControlName="certification_type"
            optionLabel="name" [filter]="true" filterBy="name" placeholder="Seleccione...">
            <ng-template pTemplate="selectedcertificationType">
              <div class="country-certificationType country-certificationType-value"
                *ngIf="certificationTypeField.value">
                <div>{{certification_type.name}}</div>
              </div>
            </ng-template>
            <ng-template let-certification_type pTemplate="certificationType">
              <div class="country-certificationType">
                <div>{{certification_type.name}}</div>
              </div>
            </ng-template>
          </p-dropdown>
        </div>
        <div class="p-field p-xl-6 p-lg-6 p-md-6 p-sm-12">
          <label for="hours">
            <i class="p-error">*</i>Horas:
            <i *ngIf="hoursField.valid" class="pi pi-check-circle icon-valid"></i>
            <i *ngIf="hoursField.invalid && (hoursField.touched || hoursField.dirty)"
              class="pi pi-times-circle icon-invalid"></i>
          </label>
          <input id="hours" formControlName="hours" pInputText>
          <div *ngIf="hoursField.errors && (hoursField.touched ||hoursField.dirty)">
            <small *ngIf="hoursField.errors?.required" id="hours-help-1" class="p-error">
              {{messageService.fieldRequired}}
            </small>
            <small *ngIf="hoursField.errors?.minlength" id="hours-help-2" class="p-error">
              {{messageService.fieldMinLength(hoursField)}}
            </small>
          </div>
        </div>
      </div>
      <div class="p-field">
        <label for="start_date">
          <i class="p-error">*</i> Fecha de Inicio:
          <i *ngIf="startDateField.valid" class="pi pi-check-circle icon-valid"></i>
          <i *ngIf="startDateField.invalid && (startDateField.touched || startDateField.dirty)"
            class="pi pi-times-circle icon-invalid"></i>
        </label>
        <app-date formControlName="start_date" id="start_date">
        </app-date>
        <div *ngIf="startDateField.errors && (startDateField.touched || startDateField.dirty)">
          <small *ngIf="startDateField.errors?.required" id="start_date-help-1" class="p-error">
            {{messageService.fieldRequired}}
          </small>
        </div>
      </div>
      <div class="p-field">
        <label for="end_date">
          <i class="p-error">*</i> Fecha Final:
          <i *ngIf="endDateField.valid" class="pi pi-check-circle icon-valid"></i>
          <i *ngIf="endDateField.invalid && (endDateField.touched || endDateField.dirty)"
            class="pi pi-times-circle icon-invalid"></i>
        </label>
        <app-date formControlName="end_date" id="end_date">
        </app-date>
        <div *ngIf="endDateField.errors && (endDateField.touched || endDateField.dirty)">
          <small *ngIf="endDateField.errors?.required" id="end_date-help-1" class="p-error">
            {{messageService.fieldRequired}}
          </small>
        </div>
      </div>
      <div class="p-formgrid p-grid">
        <div class="p-field p-col">
          <button type="submit" pButton pRipple label="Guardar y Salir" icon="pi pi-save"
            class="p-button-success p-button-raised"></button>
        </div>
        <div *ngIf="!idField.value" class="p-field p-col">
          <button type="button" pButton pRipple label="Guardar" icon="pi pi-arrow-right" class="p-button-raised"
            (click)="onSubmit(true)"></button>
        </div>
      </div>
    </form>
  </div>
</p-card>