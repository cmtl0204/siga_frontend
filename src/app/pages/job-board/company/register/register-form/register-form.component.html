<body>
<div class="card1">
  <div class="p-text-center" style=" font-size: 25px; font-weight: 600;">
    SIGN UP
  </div>
  <div class="p-grid">
    <div class="p-xl-12 p-lg-12 p-md-12 p-sm-12 p-ai-center p-jc-center">
      <div class="p-fluid" style="width: 100%;">
        <form [formGroup]="formRegisterIn" (ngSubmit)="onSubmit()">
          <div formGroupName="user">
            <div class="card">
              <div class="p-formgrid p-grid">
                <div class="p-field p-xl-6 p-lg-6 p-md-12 p-sm-12">
                  <label for="username">
                    <i class="p-error">*</i> Nombre de Usuario:
                    <i *ngIf="usernameField.valid" class="pi pi-check-circle icon-valid"></i>
                    <i *ngIf="usernameField.invalid && (usernameField.touched || usernameField.dirty)"
                      class="pi pi-times-circle icon-invalid"></i>
                  </label>
                  <input id="username" formControlName="username" placeholder="cédula o pasaporte" pInputText>
                  <div *ngIf="usernameField.errors && (usernameField.touched || usernameField.dirty)">
                    <small *ngIf="usernameField.errors?.required" id="user-help-1" class="p-error">
                      {{messageService.fieldRequired}}
                    </small>
                    <small *ngIf="usernameField.errors?.minlength" id="user-help-2" class="p-error">
                      {{messageService.fieldMinLength(usernameField)}}
                    </small>
                    <small *ngIf="usernameField.errors?.maxlength" id="user-help-3" class="p-error">
                      {{messageService.fieldMaxLength(usernameField)}}
                    </small>
                    <small *ngIf="usernameField.errors?.noIdentificationMatch" id="user-help-4" class="p-error">
                      {{messageService.fieldNoIdentificationMatch}}
                    </small>
                  </div>
                </div>
                <div class="p-field p-xl-6 p-lg-6 p-md-12 p-sm-12">
                  <label for="identification">
                    <i class="p-error">*</i> Identificación:
                    <i *ngIf="identificationField.valid" class="pi pi-check-circle icon-valid"></i>
                    <i *ngIf="identificationField.invalid && (identificationField.touched || identificationField.dirty)"
                      class="pi pi-times-circle icon-invalid"></i>
                  </label>
                  <input id="identification" formControlName="identification" placeholder="cédula o pasaporte" pInputText>
                  <div *ngIf="identificationField.errors && (identificationField.touched || identificationField.dirty)">
                    <small *ngIf="identificationField.errors?.required" id="identification-help-1" class="p-error">
                      {{messageService.fieldRequired}}
                    </small>
                    <small *ngIf="identificationField.errors?.noIdentificationMatch" id="identification-help-2" class="p-error">
                      {{messageService.fieldNoIdentificationMatch}}
                    </small>
                    <small *ngIf="identificationField.errors?.notAvaibleUser" id="identification-help-3"
                      class="p-error">
                      Usuario existente
                    </small>
                  </div>
                </div>
              </div>
              <div class="p-formgrid p-grid">
                <div class="p-field p-xl-6 p-lg-6 p-md-12 p-sm-12">
                  <label for="email">
                    <i class="p-error">*</i> Email:
                    <i *ngIf="emailField.valid" class="pi pi-check-circle icon-valid"></i>
                    <i *ngIf="emailField.invalid && (emailField.touched || emailField.dirty)"
                      class="pi pi-times-circle icon-invalid"></i>
                  </label>
                  <input id="email" formControlName="email"  placeholder="ej. apm.arias@yavirac.edu.ec" pInputText>
                  <div *ngIf="emailField.errors && (emailField.touched || emailField.dirty)">
                    <small *ngIf="emailField.errors?.required" id="email-help-1" class="p-error">
                      {{messageService.fieldRequired}}
                    </small>
                    <small *ngIf="emailField.errors?.email" id="email-help-2" class="p-error">
                      {{messageService.fieldEmail}}
                    </small>
                  </div>
                </div>
                <div class="p-field p-xl-6 p-lg-6 p-md-6 p-sm-12">
                  <label for="identification_type">
                    <i class="p-error">*</i> Tipo de Identificación:
                    <i *ngIf="identificationTypeField.valid" class="pi pi-check-circle icon-valid"></i>
                    <i *ngIf="identificationTypeField.invalid && (identificationTypeField.touched || identificationTypeField.dirty)"
                      class="pi pi-times-circle icon-invalid"></i>
                  </label>
                  <p-dropdown id="identification_type" [options]="identificationTypes" formControlName="identification_type"
                            optionLabel="name" [filter]="true" filterBy="name"
                            placeholder="Seleccione...">
                  <ng-template pTemplate="selectedItem">
                    <div class="country-item country-item-value"  *ngIf="identificationTypeField.value">
                      <div>{{identificationTypeField.value.name}}</div>
                    </div>
                  </ng-template>
                  <ng-template let-item pTemplate="item">
                    <div class="country-item">
                      <div>{{item.name}}</div>
                    </div>
                  </ng-template>
                </p-dropdown>
                  <div
                    *ngIf="identificationTypeField.errors && (identificationTypeField.touched || identificationTypeField.dirty)">
                    <small *ngIf="identificationTypeField.errors?.required" id="identificationType-help-1"
                      class="p-error">
                      {{messageService.fieldRequired}}
                    </small>
                  </div>
                </div>
              </div>
              <div class="p-formgrid p-grid">
                <div class="p-field p-xl-6 p-lg-6 p-md-6 p-sm-12">
                  <label for="password">
                    <i class="p-error">*</i> Contraseña:
                    <i *ngIf="passwordField.valid" class="pi pi-check-circle icon-valid"></i>
                    <i *ngIf="passwordField.invalid && (passwordField.touched || passwordField.dirty)"
                      class="pi pi-times-circle icon-invalid"></i>
                  </label>
                  <p-password id="password" formControlName="password" placeholder="contraseña" [feedback]="false" [toggleMask]="true">
                  </p-password>
                  <div *ngIf="passwordField.errors && (passwordField.touched || passwordField.dirty)">
                    <small *ngIf="passwordField.errors?.required" id="password-help-1" class="p-error">
                      {{messageService.fieldRequired}}
                    </small>
                    <small *ngIf="passwordField.errors?.minlength" id="password-help-2" class="p-error">
                      {{messageService.fieldMinLength(passwordField)}}
                    </small>
                     <small *ngIf="passwordField.errors?.maxlength" id="password-help-3" class="p-error">
                      {{messageService.fieldMaxLength(passwordField)}}
                    </small>
                    <small *ngIf="passwordField.errors?.noPasswordMatch" id="password-help-4" class="p-error">
                      {{messageService.fieldNoPasswordMatch}}
                    </small>
                  </div>
                </div>
                <div class="p-field p-xl-6 p-lg-6 p-md-6 p-sm-12">
                  <label for="password_confirmation">
                    <i class="p-error">*</i> Confirmación de Contraseña:
                    <i *ngIf="passwordConfirmationField.valid" class="pi pi-check-circle icon-valid"></i>
                    <i *ngIf="passwordConfirmationField.invalid && (passwordConfirmationField.touched || passwordConfirmationField.dirty)"
                      class="pi pi-times-circle icon-invalid"></i>
                  </label>
                  <p-password id="password_confirmation" formControlName="password_confirmation" [feedback]="false"
                    [toggleMask]="true">
                  </p-password>
                  <div
                    *ngIf="passwordConfirmationField.errors && (passwordConfirmationField.touched || passwordConfirmationField.dirty)">
                    <small *ngIf="passwordConfirmationField.errors?.required" id="passwordConfirmation-help-1"
                      class="p-error">
                      {{messageService.fieldRequired}}
                    </small>
                    <small *ngIf="passwordConfirmationField.errors?.noPasswordMatch" id="passwordConfirmation-help-2"
                      class="p-error">
                      {{messageService.fieldNoPasswordMatch}}
                    </small>
                  </div>
                </div>
              </div>
            </div>
            <div class="p-field">
                <app-location-address [option]="1" (formAddressOut)="formAddress=$event"
                  (formLocationOut)="setFormLocation($event)" id="address" name="address" formControlName="address">
                </app-location-address>
            </div>
          </div>
          <div class="card">
            <div class="p-formgrid p-grid">
              <div class="p-field p-xl-4 p-lg-4 p-md-12 p-sm-12">
                <label for="person_type">
                  <i class="p-error">*</i> Tipo de Persona:
                  <i *ngIf="personTypeField.valid" class="pi pi-check-circle icon-valid"></i>
                  <i *ngIf="personTypeField.invalid && (personTypeField.touched || personTypeField.dirty)"
                    class="pi pi-times-circle icon-invalid"></i>
                </label>
                <p-dropdown id="person_type" [options]="personType" formControlName="person_type"
                            optionLabel="name" [filter]="true" filterBy="name"
                            placeholder="Seleccione...">
                  <ng-template pTemplate="selectedItem">
                    <div class="country-item country-item-value"  *ngIf="personTypeField.value">
                      <div>{{personTypeField.value.name}}</div>
                    </div>
                  </ng-template>
                  <ng-template let-item pTemplate="item">
                    <div class="country-item">
                      <div>{{item.name}}</div>
                    </div>
                  </ng-template>
                </p-dropdown>
                <div *ngIf="personTypeField.errors && (personTypeField.touched || personTypeField.dirty)">
                  <small *ngIf="personTypeField.errors?.required" id="personType-help-1" class="p-error">
                    {{messageService.fieldRequired}}
                  </small>
                </div>
              </div>
              <div class="p-field p-xl-4 p-lg-4 p-md-12 p-sm-12">
                <label for="type">
                  <i class="p-error">*</i> Tipo de Compañía:
                  <i *ngIf="typeField.valid" class="pi pi-check-circle icon-valid"></i>
                  <i *ngIf="typeField.invalid && (typeField.touched || typeField.dirty)"
                    class="pi pi-times-circle icon-invalid"></i>
                </label>
                 <p-dropdown id="type" [options]="types" formControlName="type"
                            optionLabel="name" [filter]="true" filterBy="name"
                            placeholder="Seleccione...">
                  <ng-template pTemplate="selectedItem">
                    <div class="country-item country-item-value"  *ngIf="typeField.value">
                      <div>{{typeField.value.name}}</div>
                    </div>
                  </ng-template>
                  <ng-template let-item pTemplate="item">
                    <div class="country-item">
                      <div>{{item.name}}</div>
                    </div>
                  </ng-template>
                </p-dropdown>
                <div *ngIf="typeField.errors && (typeField.touched || typeField.dirty)">
                  <small *ngIf="typeField.errors?.required" id="type-help-1" class="p-error">
                    {{messageService.fieldRequired}}
                  </small>
                </div>
              </div>
              <div class="p-field p-xl-4 p-lg-4 p-md-12 p-sm-12">
                <label for="activity_type">
                  <i class="p-error">*</i> Tipo de Actividad:
                  <i *ngIf="activityTypeField.valid" class="pi pi-check-circle icon-valid"></i>
                  <i *ngIf="activityTypeField.invalid && (activityTypeField.touched || activityTypeField.dirty)"
                    class="pi pi-times-circle icon-invalid"></i>
                </label>
                 <p-dropdown id="activity_type" [options]="activityType" formControlName="activity_type"
                            optionLabel="name" [filter]="true" filterBy="name"
                            placeholder="Seleccione...">
                  <ng-template pTemplate="selectedItem">
                    <div class="country-item country-item-value"  *ngIf="activityTypeField.value">
                      <div>{{activityTypeField.value.name}}</div>
                    </div>
                  </ng-template>
                  <ng-template let-item pTemplate="item">
                    <div class="country-item">
                      <div>{{item.name}}</div>
                    </div>
                  </ng-template>
                </p-dropdown>
                <div *ngIf="activityTypeField.errors && (activityTypeField.touched || activityTypeField.dirty)">
                  <small *ngIf="activityTypeField.errors?.required" id="activityType-help-1" class="p-error">
                    {{messageService.fieldRequired}}
                  </small>
                </div>
              </div>
            </div>
            <div class="p-formgrid p-grid">
              <div class="p-field p-xl-6 p-lg-6 p-md-12 p-sm-12">
                <label for="trade_name">
                  <i class="p-error">*</i> Nombre Comercial:
                  <i *ngIf="tradeNameField.valid" class="pi pi-check-circle icon-valid"></i>
                  <i *ngIf="tradeNameField.invalid && (tradeNameField.touched || tradeNameField.dirty)"
                    class="pi pi-times-circle icon-invalid"></i>
                </label>
                <input id="trade_name" formControlName="trade_name" placeholder="ej. Editorial Planeta" pInputText>
                <div *ngIf="tradeNameField.errors && (tradeNameField.touched || tradeNameField.dirty)">
                  <small *ngIf="tradeNameField.errors?.required" id="tradename-help-1" class="p-error">
                    {{messageService.fieldRequired}}
                  </small>
                </div>
              </div>
              <div class="p-field p-xl-6 p-lg-6 p-md-12 p-sm-12">
                <label for="prefix">
                  <i class="p-error">*</i>Prefijo:
                  <i *ngIf="prefixField.valid" class="pi pi-check-circle icon-valid"></i>
                  <i *ngIf="prefixField.invalid && (prefixField.touched || prefixField.dirty)"
                    class="pi pi-times-circle icon-invalid"></i>
                </label>
                <input id="prefix" formControlName="prefix" placeholder="ej. E.P" pInputText>
                <div *ngIf="prefixField.errors && (prefixField.touched ||prefixField.dirty)">
                  <small *ngIf="prefixField.errors?.required" id="prefix-help-1" class="p-error">
                    {{messageService.fieldRequired}}
                  </small>
                  <small *ngIf="prefixField.errors?.minlength" id="prefix-help-2" class="p-error">
                    {{messageService.fieldMinLength(prefixField)}}
                  </small>
                </div>
              </div>
            </div>
            <div class="p-field">
              <label for="web">
                <i class="p-error">*</i> Web:
                <i *ngIf="webField.valid" class="pi pi-check-circle icon-valid"></i>
                <i *ngIf="webField.invalid && (webField.touched || webField.dirty)"
                  class="pi pi-times-circle icon-invalid"></i>
              </label>
              <input id="web" formControlName="web" placeholder="ej. EditorialPlaneta.com" pInputText>
              <div *ngIf="webField.errors && (webField.touched || webField.dirty)">
                <small *ngIf="webField.errors?.required" id="web-help-1" class="p-error">
                  {{messageService.fieldRequired}}
                </small>
              </div>
            </div>
            <div class="p-formgrid p-grid">
              <div class="p-field p-xl-2 p-lg-2 p-md-3 p-sm-12">
                <label for="comercial_activities">
                  <i class="p-error">*</i> Actividades Comerciales:
                  <i *ngIf="comercialActivitiesField.valid" class="pi pi-check-circle icon-valid"></i>
                  <i *ngIf="comercialActivitiesField.invalid && (comercialActivitiesField.touched || comercialActivitiesField.dirty)"
                    class="pi pi-times-circle icon-invalid"></i>
                </label>
              </div>
              <div class="p-field p-xl-2 p-lg-2 p-md-2 p-sm-12">
                <button pButton pRipple type="button" (click)="addComercialActivity()" iconPos="right" icon="pi pi-plus"
                  class="p-button-success p-button-raised" label="Añadir"></button>
              </div>
            </div>
            <div formArrayName="comercial_activities">
              <div *ngFor="let comercial_activity of comercialActivitiesField.controls let i = index;">
                <div class="p-fluid p-formgrid p-grid">
                  <div class="p-field p-xl-11 p-lg-11 p-md-6 p-sm-12">
                    <input [formControlName]="i" pInputText>
                  </div>
                  <div class="p-field p-xl-1 p-lg-1 p-md-1 p-sm-12">
                    <button pButton pRipple type="button" (click)="removeComercialActivity(i)" iconPos="right"
                      icon="pi pi-trash" class="p-button-danger p-button-rounded"></button>
                  </div>
                  <div
                    *ngIf="comercialActivitiesField.invalid && (comercialActivitiesField.touched || comercialActivitiesField.dirty)">
                    <small *ngIf="comercialActivitiesField.controls[i].errors?.required"
                     id="comercialActivities-help-1" class="p-error">
                      {{messageService.fieldRequired}}
                    </small>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="p-field p-xl-3 p-lg-3 p-md-3 p-sm-12" style="display:inline-block;margin-left:35%;width:25%;">
            <button type="submit" pButton pRipple label="Guardar y Salir" icon="pi pi-save"
              class="p-button-success p-button-raised" ></button>
          </div>
        </form>
      </div>
    </div>
  </div>
  </div>
</body>
